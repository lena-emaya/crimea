<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title>Crimea map</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.1/mapbox-gl.css' rel='stylesheet' />
<style>
body { margin:0; padding:0; }
#map { position:absolute; top:0; bottom:0; width:100%; }
</style>
</head>
<body>
 
<style>

.container{
    left: 20px;
    top: 10px;
    position: absolute;
    width: 400px;
    background-color: rgb(255, 255, 255);
    box-shadow: 0 1px 2px rgba(48, 57, 61, 0.3);
    border-radius: 3px;
     /* box-shadow: 0 1px 2px rgba(0,0,0,0.10); */
   
}    
 
h1{
  font:  20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
  color:rgb(34, 52, 85);
  padding: 10px 15px 0px 20px;

}

.legend {
    /* position: absolute;
    left: 10px;
top: px; */

    padding: 10px 5px 20px 20px;
    
    
font: 12px/20px 'Helvetica Neue', Arial, Helvetica, sans-serif;
width: 350px;

}
 

 
/* .legend div span {
border-radius: 50%;
display: inline-block;
height: 10px;
margin-right: 5px;
width: 10px;
} */

img{
  height: 22px;
  width: 22px;
  box-shadow: 0 1px 2px rgba(48, 57, 61, 0.3);
}

.mapboxgl-ctrl.mapboxgl-ctrl-attrib {
  background-color: rgba(255, 255, 255, 0);

} 

mapboxgl-ctrl-bottom-right {
  left: 40px;
  bottom: 0;
}

.block{
  display: flex;
  align-items: flex-start;
  padding-bottom: 5px;
  padding-top: 5px; 
}

.legend_text{
  font-weight: 400;
  margin-left: 10px;
  color:rgb(34, 52, 85);
}

</style>
 
<div id='map'></div>
<div class="container"> 
<h1>Культурный ландшафт Южного берега Крыма: невосполнимые потери и современные угрозы</h1>
<div class='legend'>
  <div class="block"><img src="oopt_legend.svg" alt="image description1"><div class='legend_text'>объекты природного наследия</div></div>
  <div class="block"><img src="okn_legend.svg" alt="image description2"><div class='legend_text'>объекты культурного наследия</div></div>
  <div class="block"><img src="loss_legend.svg" alt="image description3"><div class='legend_text'>утраченные объекты (участки объектов) наследия</div></div>
  <div class="block"><img src="threat_legend.svg" alt="image description4"><div class='legend_text'>культурный ландшафт под угрозой уничтожения</div></div>
  <div class="block"><img src="zastroilka_legend.svg" alt="image description"><div class='legend_text'>застройка, разрушающая исторический культурный ландшафт</div></div>
  <div class="block"><img src="ubk_legend.svg" alt="image description"><div class='legend_text'>граница Южного берега Крыма</div></div>
</div>
</div>

 
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoibGVuYWVtYXlhIiwiYSI6ImNpa3VhbXE5ZjAwMXB3eG00ajVyc2J6ZTIifQ.kmZ4yVcNrupl4H8EonM3aQ';
var map = new mapboxgl.Map({
container: 'map',
style: 'mapbox://styles/lenaemaya/cjtxwb9bn0rg01fo9vfio37jc',
center: [34.082, 44.509],
minZoom: 9,
zoom: 10.05
});
 
var zoomThreshold = 4;
 
map.on('load', function() {
    var countyLegendEl = document.getElementById('county-legend');
    countyLegendEl.style.display = 'block';
map.addSource('population', {
'type': 'vector',
'url': 'mapbox://mapbox.660ui7x6'
});
 
map.addLayer({
'id': 'state-population',
'source': 'population',
'source-layer': 'state_county_population_2014_cen',
'type': 'fill',
'filter': ['==', 'isState', true],
'paint': {
'fill-color': [
'interpolate',
['linear'],
['get', 'population'],
0, '#F2F12D',
500000, '#EED322',
750000, '#E6B71E',
1000000, '#DA9C20',
2500000, '#CA8323',
5000000, '#B86B25',
7500000, '#A25626',
10000000, '#8B4225',
25000000, '#723122'
],
'fill-opacity': 0.75
}
}, 'waterway-label');
 
});
 
 
</script>
 
</body>
</html>